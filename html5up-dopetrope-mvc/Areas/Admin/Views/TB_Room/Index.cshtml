@using PagedList.Mvc
@model PagedList.IPagedList<html5up_dopetrope_mvc.Models.TB_Room>

@{
    ViewBag.Title = "房型資料維護";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div id="main-wrapper">
    <div class="container">
        
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">@ViewBag.Title</h3>
            </div>

            <div class="panel-body">

                <table class="table table-striped table-hover ">
                    <thead>
                        <tr>
                            <th>
                                @Html.DisplayNameFor(model => model.FirstOrDefault().Name)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.FirstOrDefault().SquareFootage)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.FirstOrDefault().MaxCapacity)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.FirstOrDefault().Facility)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.FirstOrDefault().Features)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.FirstOrDefault().ExtraBed)
                            </th>
                            <th>
                                圖片
                            </th>
      
                            <th>功能</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Name)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.SquareFootage)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.MaxCapacity)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Facility)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Features)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.ExtraBed)
                                </td>
                                <td>
                                    @{
                            var targetDirectory = Server.MapPath(@"~/UploadFiles/TB_Room/" + item.ID+"/");
                            var images = Html.GetImgTagsByRoomId(@"~/UploadFiles/TB_Room/" + item.ID + "/", targetDirectory);
                                        foreach (var imgTag in images)
                                        {
                                            <div class="thumbnail">
                                                @imgTag
                                            </div>
                                  
                                        }
                                    }
                 
                                </td>
                                <td>
                                    @Html.ActionLink("編輯", "Edit", new { id = item.ID })  
                        
                                    @*@Html.ActionLink("刪除", "Delete", new { id = item.ID })*@
                                </td>
                            </tr>
                        }
                    </tbody>
                    <tfoot>
                        <form action="@Url.Action("Create", "TB_Room", new { @class = "", area = "Admin" })" method="GET">
                            <button type="submit" class="btn btn-default">新增</button>
                        </form>
                    </tfoot>
                </table>
            </div>
            <div class="panel-footer">
                @Html.PagedListPager(Model, page => Url.Action("Index", "TB_Room", new { page = page, area = "Admin" }))
            </div>
        </div>


     
    </div>
</div>
@section Style
{
    <link href="~/Content/bootstrap.spacelab.min.css" rel="stylesheet" />
}

@section Scripts
{

}
